# 轻量增强短程验证配置

# 数据集配置
dataset:
  root: "../data/processed"
  image_dir: "images"
  mask_dir: "masks"
  crop_size: [640, 640]
  train_scales: [[640, 640]]
  normalize_mean: [0.485, 0.456, 0.406]
  normalize_std: [0.229, 0.224, 0.225]
  use_cache: false
  cache_dir: "./cache"
  min_mask_ratio: 0.001
  mixup_prob: 0.05
  cutmix_prob: 0.10
  mix_alpha: 0.6
  focus_crop_prob: 0.25
  hard_mining_update_interval: 256

# 模型配置
model:
  backbone: "convnext_tiny"
  pretrained: "../pytorch_model.bin"
  num_classes: 1
  decoder_channels: 256
  deep_supervision: true
  edge_branch: true
  head_dropout: 0.2

# 损失函数配置
loss:
  type: "combined"
  dice: 0.4
  focal: 0.35
  bce: 0.15
  boundary: 0.10
  focal_gamma: 2.0
  use_tversky: true
  tversky_beta: 0.55

# 优化器配置
optimizer:
  type: "adamw"
  lr: 0.0008
  weight_decay: 0.0004

# 学习率调度器配置
scheduler:
  type: "cosine_warmup"
  warmup_epochs: 4
  warmup_start_factor: 0.2
  min_lr: 0.00004

# 训练配置
training:
  epochs: 40
  batch_size: 16
  num_workers: 4
  output_dir: "./outputs/light_aug"
  use_amp: true
  use_ema: true
  ema_decay: 0.999
  use_swa: false
  gradient_accumulation_steps: 1
  max_grad_norm: 1.0
  early_stopping_patience: 5

# 日志配置
logging:
  log_interval: 50
  save_checkpoint_interval: 5
  tensorboard: false
  wandb:
    enabled: false

# 硬件配置
hardware:
  gpu_ids: [0]
  distributed: false
  num_gpus: 1

# 随机种子
seed: 42
